{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"@react-navigation/core","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireWildcard = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireWildcard\");\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useLinking;\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/regenerator\"));\n\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[3], \"react\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[4], \"react-native\");\n\n  var _core = _$$_REQUIRE(_dependencyMap[5], \"@react-navigation/core\");\n\n  function _createForOfIteratorHelperLoose(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[typeof Symbol === \"function\" ? Symbol.iterator : \"@@iterator\"] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } it = o[typeof Symbol === \"function\" ? Symbol.iterator : \"@@iterator\"](); return it.next.bind(it); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  var isUsingLinking = false;\n\n  function useLinking(ref, _ref) {\n    var _ref$enabled = _ref.enabled,\n        enabled = _ref$enabled === void 0 ? true : _ref$enabled,\n        prefixes = _ref.prefixes,\n        config = _ref.config,\n        _ref$getStateFromPath = _ref.getStateFromPath,\n        getStateFromPath = _ref$getStateFromPath === void 0 ? _core.getStateFromPath : _ref$getStateFromPath;\n    React.useEffect(function () {\n      if (enabled !== false && isUsingLinking) {\n        throw new Error(['Looks like you have configured linking in multiple places. This is likely an error since deep links should only be handled in one place to avoid conflicts. Make sure that:', \"- You are not using both 'linking' prop and 'useLinking'\", \"- You don't have 'useLinking' in multiple components\", _reactNative.Platform.OS === 'android' ? \"- You have set 'android:launchMode=singleTask' in the '<activity />' section of the 'AndroidManifest.xml' file to avoid launching multiple instances\" : ''].join('\\n').trim());\n      } else {\n        isUsingLinking = enabled !== false;\n      }\n\n      return function () {\n        isUsingLinking = false;\n      };\n    });\n    var enabledRef = React.useRef(enabled);\n    var prefixesRef = React.useRef(prefixes);\n    var configRef = React.useRef(config);\n    var getStateFromPathRef = React.useRef(getStateFromPath);\n    React.useEffect(function () {\n      enabledRef.current = enabled;\n      prefixesRef.current = prefixes;\n      configRef.current = config;\n      getStateFromPathRef.current = getStateFromPath;\n    }, [config, enabled, getStateFromPath, prefixes]);\n    var extractPathFromURL = React.useCallback(function (url) {\n      for (var _iterator = _createForOfIteratorHelperLoose(prefixesRef.current), _step; !(_step = _iterator()).done;) {\n        var prefix = _step.value;\n\n        if (url.startsWith(prefix)) {\n          return url.replace(prefix, '');\n        }\n      }\n\n      return undefined;\n    }, []);\n    var getInitialState = React.useCallback(function _callee() {\n      var url, path;\n      return _regenerator.default.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (enabledRef.current) {\n                _context.next = 2;\n                break;\n              }\n\n              return _context.abrupt(\"return\", undefined);\n\n            case 2:\n              _context.next = 4;\n              return _regenerator.default.awrap(Promise.race([_reactNative.Linking.getInitialURL(), new Promise(function (resolve) {\n                return setTimeout(resolve, 150);\n              })]));\n\n            case 4:\n              url = _context.sent;\n              path = url ? extractPathFromURL(url) : null;\n\n              if (!path) {\n                _context.next = 10;\n                break;\n              }\n\n              return _context.abrupt(\"return\", getStateFromPathRef.current(path, configRef.current));\n\n            case 10:\n              return _context.abrupt(\"return\", undefined);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }, [extractPathFromURL]);\n    React.useEffect(function () {\n      var listener = function listener(_ref2) {\n        var url = _ref2.url;\n\n        if (!enabled) {\n          return;\n        }\n\n        var path = extractPathFromURL(url);\n        var navigation = ref.current;\n\n        if (navigation && path) {\n          var state = getStateFromPathRef.current(path, configRef.current);\n\n          if (state) {\n            var action = (0, _core.getActionFromState)(state);\n\n            if (action !== undefined) {\n              navigation.dispatch(action);\n            } else {\n              navigation.resetRoot(state);\n            }\n          }\n        }\n      };\n\n      _reactNative.Linking.addEventListener('url', listener);\n\n      return function () {\n        return _reactNative.Linking.removeEventListener('url', listener);\n      };\n    }, [enabled, extractPathFromURL, ref]);\n    return {\n      getInitialState: getInitialState\n    };\n  }\n});","lineCount":142,"map":[[13,0,1,0],[15,0,2,0],[17,0,3,0],[25,0,10,0],[25,6,10,4,"isUsingLinking"],[25,20,10,18],[25,23,10,21],[25,28,10,0],[27,0,12,15],[27,11,12,24,"useLinking"],[27,21,12,15],[27,22,13,2,"ref"],[27,25,12,15],[27,33,20,2],[28,0,20,2],[28,28,15,4,"enabled"],[28,35,20,2],[29,0,20,2],[29,8,15,4,"enabled"],[29,15,20,2],[29,44,15,14],[29,48,20,2],[30,0,20,2],[30,8,16,4,"prefixes"],[30,16,20,2],[30,24,16,4,"prefixes"],[30,32,20,2],[31,0,20,2],[31,8,17,4,"config"],[31,14,20,2],[31,22,17,4,"config"],[31,28,20,2],[32,0,20,2],[32,37,18,4,"getStateFromPath"],[32,53,20,2],[33,0,20,2],[33,8,18,4,"getStateFromPath"],[33,24,20,2],[33,62,18,23,"getStateFromPathDefault"],[33,84,20,2],[34,0,21,2,"React"],[34,4,21,2,"React"],[34,9,21,7],[34,10,21,8,"useEffect"],[34,19,21,2],[34,20,21,18],[34,32,21,24],[35,0,22,4],[35,10,22,8,"enabled"],[35,17,22,15],[35,22,22,20],[35,27,22,8],[35,31,22,29,"isUsingLinking"],[35,45,22,4],[35,47,22,45],[36,0,23,6],[36,14,23,12],[36,18,23,16,"Error"],[36,23,23,12],[36,24,24,8],[36,25,25,10],[36,198,24,8],[36,200,26,10],[36,258,24,8],[36,260,27,10],[36,314,24,8],[36,316,28,10,"Platform"],[36,338,28,19,"OS"],[36,340,28,10],[36,345,28,26],[36,354,28,10],[36,357,29,14],[36,507,28,10],[36,510,30,14],[36,512,24,8],[36,514,32,11,"join"],[36,518,24,8],[36,519,32,16],[36,523,24,8],[36,525,33,11,"trim"],[36,529,24,8],[36,531,23,12],[36,532,23,6],[37,0,35,5],[37,7,22,4],[37,13,35,11],[38,0,36,6,"isUsingLinking"],[38,8,36,6,"isUsingLinking"],[38,22,36,20],[38,25,36,23,"enabled"],[38,32,36,30],[38,37,36,35],[38,42,36,6],[39,0,37,5],[41,0,39,4],[41,13,39,11],[41,25,39,17],[42,0,40,6,"isUsingLinking"],[42,8,40,6,"isUsingLinking"],[42,22,40,20],[42,25,40,23],[42,30,40,6],[43,0,41,5],[43,7,39,4],[44,0,42,3],[44,5,21,2],[45,0,47,2],[45,8,47,8,"enabledRef"],[45,18,47,18],[45,21,47,21,"React"],[45,26,47,26],[45,27,47,27,"useRef"],[45,33,47,21],[45,34,47,34,"enabled"],[45,41,47,21],[45,42,47,2],[46,0,48,2],[46,8,48,8,"prefixesRef"],[46,19,48,19],[46,22,48,22,"React"],[46,27,48,27],[46,28,48,28,"useRef"],[46,34,48,22],[46,35,48,35,"prefixes"],[46,43,48,22],[46,44,48,2],[47,0,49,2],[47,8,49,8,"configRef"],[47,17,49,17],[47,20,49,20,"React"],[47,25,49,25],[47,26,49,26,"useRef"],[47,32,49,20],[47,33,49,33,"config"],[47,39,49,20],[47,40,49,2],[48,0,50,2],[48,8,50,8,"getStateFromPathRef"],[48,27,50,27],[48,30,50,30,"React"],[48,35,50,35],[48,36,50,36,"useRef"],[48,42,50,30],[48,43,50,43,"getStateFromPath"],[48,59,50,30],[48,60,50,2],[49,0,52,2,"React"],[49,4,52,2,"React"],[49,9,52,7],[49,10,52,8,"useEffect"],[49,19,52,2],[49,20,52,18],[49,32,52,24],[50,0,53,4,"enabledRef"],[50,6,53,4,"enabledRef"],[50,16,53,14],[50,17,53,15,"current"],[50,24,53,4],[50,27,53,25,"enabled"],[50,34,53,4],[51,0,54,4,"prefixesRef"],[51,6,54,4,"prefixesRef"],[51,17,54,15],[51,18,54,16,"current"],[51,25,54,4],[51,28,54,26,"prefixes"],[51,36,54,4],[52,0,55,4,"configRef"],[52,6,55,4,"configRef"],[52,15,55,13],[52,16,55,14,"current"],[52,23,55,4],[52,26,55,24,"config"],[52,32,55,4],[53,0,56,4,"getStateFromPathRef"],[53,6,56,4,"getStateFromPathRef"],[53,25,56,23],[53,26,56,24,"current"],[53,33,56,4],[53,36,56,34,"getStateFromPath"],[53,52,56,4],[54,0,57,3],[54,5,52,2],[54,7,57,5],[54,8,57,6,"config"],[54,14,57,5],[54,16,57,14,"enabled"],[54,23,57,5],[54,25,57,23,"getStateFromPath"],[54,41,57,5],[54,43,57,41,"prefixes"],[54,51,57,5],[54,52,52,2],[55,0,59,2],[55,8,59,8,"extractPathFromURL"],[55,26,59,26],[55,29,59,29,"React"],[55,34,59,34],[55,35,59,35,"useCallback"],[55,46,59,29],[55,47,59,47],[55,57,59,48,"url"],[55,60,59,47],[55,62,59,64],[56,0,60,4],[56,59,60,25,"prefixesRef"],[56,70,60,36],[56,71,60,37,"current"],[56,78,60,4],[56,118,60,46],[57,0,60,46],[57,12,60,15,"prefix"],[57,18,60,46],[59,0,61,6],[59,12,61,10,"url"],[59,15,61,13],[59,16,61,14,"startsWith"],[59,26,61,10],[59,27,61,25,"prefix"],[59,33,61,10],[59,34,61,6],[59,36,61,34],[60,0,62,8],[60,17,62,15,"url"],[60,20,62,18],[60,21,62,19,"replace"],[60,28,62,15],[60,29,62,27,"prefix"],[60,35,62,15],[60,37,62,35],[60,39,62,15],[60,40,62,8],[61,0,63,7],[62,0,64,5],[64,0,66,4],[64,13,66,11,"undefined"],[64,22,66,4],[65,0,67,3],[65,5,59,29],[65,7,67,5],[65,9,59,29],[65,10,59,2],[66,0,69,2],[66,8,69,8,"getInitialState"],[66,23,69,23],[66,26,69,26,"React"],[66,31,69,31],[66,32,69,32,"useCallback"],[66,43,69,26],[66,44,69,44],[67,0,69,44],[68,0,69,44],[69,0,69,44],[70,0,69,44],[71,0,69,44],[72,0,69,44],[72,18,70,9,"enabledRef"],[72,28,70,19],[72,29,70,20,"current"],[72,36,69,44],[73,0,69,44],[74,0,69,44],[75,0,69,44],[77,0,69,44],[77,47,71,13,"undefined"],[77,56,69,44],[79,0,69,44],[80,0,69,44],[81,0,69,44],[81,48,74,23,"Promise"],[81,55,74,30],[81,56,74,31,"race"],[81,60,74,23],[81,61,74,36],[81,62,75,6,"Linking"],[81,83,75,14,"getInitialURL"],[81,96,75,6],[81,98,74,36],[81,100,76,6],[81,104,76,10,"Promise"],[81,111,76,6],[81,112,76,18],[81,122,76,19,"resolve"],[81,129,76,18],[82,0,76,18],[82,23,79,8,"setTimeout"],[82,33,79,18],[82,34,79,19,"resolve"],[82,41,79,18],[82,43,79,28],[82,46,79,18],[82,47,76,18],[83,0,76,18],[83,15,76,6],[83,16,74,36],[83,17,74,23],[83,18,69,44],[85,0,69,44],[86,0,74,10,"url"],[86,14,74,10,"url"],[86,17,69,44],[87,0,83,10,"path"],[87,14,83,10,"path"],[87,18,69,44],[87,21,83,17,"url"],[87,24,83,20],[87,27,83,23,"extractPathFromURL"],[87,45,83,41],[87,46,83,42,"url"],[87,49,83,41],[87,50,83,20],[87,53,83,49],[87,57,69,44],[89,0,69,44],[89,19,85,8,"path"],[89,23,69,44],[90,0,69,44],[91,0,69,44],[92,0,69,44],[94,0,69,44],[94,47,86,13,"getStateFromPathRef"],[94,66,86,32],[94,67,86,33,"current"],[94,74,86,13],[94,75,86,41,"path"],[94,79,86,13],[94,81,86,47,"configRef"],[94,90,86,56],[94,91,86,57,"current"],[94,98,86,13],[94,99,69,44],[96,0,69,44],[97,0,69,44],[97,47,88,13,"undefined"],[97,56,69,44],[99,0,69,44],[100,0,69,44],[101,0,69,44],[102,0,69,44],[103,0,69,44],[104,0,69,44],[105,0,69,44],[105,5,69,26],[105,7,90,5],[105,8,90,6,"extractPathFromURL"],[105,26,90,5],[105,27,69,26],[105,28,69,2],[106,0,92,2,"React"],[106,4,92,2,"React"],[106,9,92,7],[106,10,92,8,"useEffect"],[106,19,92,2],[106,20,92,18],[106,32,92,24],[107,0,93,4],[107,10,93,10,"listener"],[107,18,93,18],[107,21,93,21],[107,30,93,10,"listener"],[107,38,93,21],[107,46,93,51],[108,0,93,51],[108,12,93,24,"url"],[108,15,93,51],[108,24,93,24,"url"],[108,27,93,51],[110,0,94,6],[110,12,94,10],[110,13,94,11,"enabled"],[110,20,94,6],[110,22,94,20],[111,0,95,8],[112,0,96,7],[114,0,98,6],[114,12,98,12,"path"],[114,16,98,16],[114,19,98,19,"extractPathFromURL"],[114,37,98,37],[114,38,98,38,"url"],[114,41,98,37],[114,42,98,6],[115,0,99,6],[115,12,99,12,"navigation"],[115,22,99,22],[115,25,99,25,"ref"],[115,28,99,28],[115,29,99,29,"current"],[115,36,99,6],[117,0,101,6],[117,12,101,10,"navigation"],[117,22,101,20],[117,26,101,24,"path"],[117,30,101,6],[117,32,101,30],[118,0,102,8],[118,14,102,14,"state"],[118,19,102,19],[118,22,102,22,"getStateFromPathRef"],[118,41,102,41],[118,42,102,42,"current"],[118,49,102,22],[118,50,102,50,"path"],[118,54,102,22],[118,56,102,56,"configRef"],[118,65,102,65],[118,66,102,66,"current"],[118,73,102,22],[118,74,102,8],[120,0,104,8],[120,14,104,12,"state"],[120,19,104,8],[120,21,104,19],[121,0,105,10],[121,16,105,16,"action"],[121,22,105,22],[121,25,105,25],[121,55,105,44,"state"],[121,60,105,25],[121,61,105,10],[123,0,107,10],[123,16,107,14,"action"],[123,22,107,20],[123,27,107,25,"undefined"],[123,36,107,10],[123,38,107,36],[124,0,108,12,"navigation"],[124,14,108,12,"navigation"],[124,24,108,22],[124,25,108,23,"dispatch"],[124,33,108,12],[124,34,108,32,"action"],[124,40,108,12],[125,0,109,11],[125,13,107,10],[125,19,109,17],[126,0,110,12,"navigation"],[126,14,110,12,"navigation"],[126,24,110,22],[126,25,110,23,"resetRoot"],[126,34,110,12],[126,35,110,33,"state"],[126,40,110,12],[127,0,111,11],[128,0,112,9],[129,0,113,7],[130,0,114,5],[130,7,93,4],[132,0,116,4,"Linking"],[132,27,116,12,"addEventListener"],[132,43,116,4],[132,44,116,29],[132,49,116,4],[132,51,116,36,"listener"],[132,59,116,4],[134,0,118,4],[134,13,118,11],[135,0,118,11],[135,15,118,17,"Linking"],[135,36,118,25,"removeEventListener"],[135,55,118,17],[135,56,118,45],[135,61,118,17],[135,63,118,52,"listener"],[135,71,118,17],[135,72,118,11],[136,0,118,11],[136,7,118,4],[137,0,119,3],[137,5,92,2],[137,7,119,5],[137,8,119,6,"enabled"],[137,15,119,5],[137,17,119,15,"extractPathFromURL"],[137,35,119,5],[137,37,119,35,"ref"],[137,40,119,5],[137,41,92,2],[138,0,121,2],[138,11,121,9],[139,0,122,4,"getInitialState"],[139,6,122,4,"getInitialState"],[139,21,122,19],[139,23,122,4,"getInitialState"],[140,0,121,9],[140,5,121,2],[141,0,124,1]],"functionMap":{"names":["<global>","useLinking","React.useEffect$argument_0","<anonymous>","React.useCallback$argument_0","Promise$argument_0","listener"],"mappings":"AAA;eCW;kBCS;WCkB;KDE;GDC;kBCU;GDK;+CGE;GHQ;4CGE;kBCO;gCDG;GHW;kBCE;qBIC;KJqB;WCI,kDD;GDC;CDK"}},"type":"js/module"}]}