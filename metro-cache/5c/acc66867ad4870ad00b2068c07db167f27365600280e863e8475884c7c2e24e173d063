{"dependencies":[{"name":"../constants/authConstants","data":{"isAsync":false}},{"name":"../services/auth.services","data":{"isAsync":false}},{"name":"../actions/user.actions","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.authActions = void 0;\n\n  var _authConstants = _$$_REQUIRE(_dependencyMap[0], \"../constants/authConstants\");\n\n  var _auth = _$$_REQUIRE(_dependencyMap[1], \"../services/auth.services\");\n\n  var _user = _$$_REQUIRE(_dependencyMap[2], \"../actions/user.actions\");\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[3], \"react-native\");\n\n  var authActions = {\n    login: login,\n    resetPassword: resetPassword,\n    getUserToken: getUserToken,\n    saveUserToken: saveUserToken,\n    deleteUserToken: deleteUserToken,\n    clearLoginErrors: clearLoginErrors,\n    clearToastMessage: clearToastMessage\n  };\n  exports.authActions = authActions;\n\n  function login(username, password) {\n    return function (dispatch) {\n      dispatch(request(username));\n\n      _auth.authService.login(username, password).then(function (res) {\n        if (res.status == 200) {\n          dispatch(success(res.data.token));\n          dispatch(saveUserToken(res.data.token));\n        } else {\n          dispatch(failure(res.error));\n        }\n      });\n    };\n\n    function request(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_REQUEST\n      };\n    }\n\n    function success(token) {\n      return {\n        type: _authConstants.authConstants.LOGIN_SUCCESS,\n        token: token\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.LOGIN_FAILURE,\n        error: error\n      };\n    }\n\n    function saveToken() {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN\n      };\n    }\n  }\n\n  function resetPassword(email) {\n    return function (dispatch) {\n      dispatch(request(email));\n\n      _auth.authService.resetPassword(email).then(function (res) {\n        if (res.status == 200) {\n          console.log(\"email sent\");\n          dispatch(success(\"Your reset link has been sent to \" + email));\n        } else {\n          console.log(\"reset failed\");\n          dispatch(failure());\n        }\n      });\n    };\n\n    function request() {\n      return {\n        type: _authConstants.authConstants.FORGOTPASSWORD_REQUEST\n      };\n    }\n\n    function success(msg) {\n      return {\n        type: _authConstants.authConstants.FORGOTPASSWORD_SUCCESS,\n        toastMessage: msg\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.FORGOTPASSWORD_FAILURE\n      };\n    }\n  }\n\n  function signup(email, first_name, last_name, phone) {\n    return function (dispatch) {\n      dispatch(request());\n\n      _auth.authService.resetPassword(email).then(function (res) {\n        if (res.status == 200) {\n          console.log(\"email sent\");\n          dispatch(success(\"Your reset link has been sent to \" + email));\n        } else {\n          console.log(\"reset failed\");\n          dispatch(failure());\n        }\n      });\n    };\n\n    function request() {\n      return {\n        type: _authConstants.authConstants.REGISTER_REQUEST\n      };\n    }\n\n    function success(msg) {\n      return {\n        type: _authConstants.authConstants.REGISTER_SUCCESS\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.REGISTER_FAILURE\n      };\n    }\n  }\n\n  function getUserToken() {\n    return function (dispatch) {\n      _auth.authService.getItem(\"token\").then(function (value) {\n        dispatch(getToken(value));\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    function getToken(token) {\n      return {\n        type: _authConstants.authConstants.GET_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function saveUserToken(token) {\n    return function (dispatch) {\n      _auth.authService.saveItem(\"token\", token).then(function (token) {\n        console.log(\"saved in memory\");\n      });\n    };\n\n    function saveToken(token) {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function deleteUserToken() {\n    return function (dispatch) {\n      _auth.authService.deleteItem(\"token\").then(function (value) {\n        dispatch(deleteToken());\n      });\n    };\n\n    function deleteToken() {\n      return {\n        type: _authConstants.authConstants.DELETE_TOKEN\n      };\n    }\n  }\n\n  function clearLoginErrors() {\n    return {\n      type: _authConstants.authConstants.CLEAR_LOGIN_ERRORS\n    };\n  }\n\n  function clearToastMessage() {\n    return {\n      type: _authConstants.authConstants.CLEAR_TOAST\n    };\n  }\n});","lineCount":193,"map":[[7,0,1,0],[9,0,2,0],[11,0,3,0],[13,0,4,0],[15,0,6,7],[15,6,6,13,"authActions"],[15,17,6,24],[15,20,6,27],[16,0,7,2,"login"],[16,4,7,2,"login"],[16,9,7,7],[16,11,7,2,"login"],[16,16,6,27],[17,0,8,2,"resetPassword"],[17,4,8,2,"resetPassword"],[17,17,8,15],[17,19,8,2,"resetPassword"],[17,32,6,27],[18,0,9,2,"getUserToken"],[18,4,9,2,"getUserToken"],[18,16,9,14],[18,18,9,2,"getUserToken"],[18,30,6,27],[19,0,10,2,"saveUserToken"],[19,4,10,2,"saveUserToken"],[19,17,10,15],[19,19,10,2,"saveUserToken"],[19,32,6,27],[20,0,11,2,"deleteUserToken"],[20,4,11,2,"deleteUserToken"],[20,19,11,17],[20,21,11,2,"deleteUserToken"],[20,36,6,27],[21,0,12,2,"clearLoginErrors"],[21,4,12,2,"clearLoginErrors"],[21,20,12,18],[21,22,12,2,"clearLoginErrors"],[21,38,6,27],[22,0,13,2,"clearToastMessage"],[22,4,13,2,"clearToastMessage"],[22,21,13,19],[22,23,13,2,"clearToastMessage"],[23,0,6,27],[23,3,6,7],[26,0,18,0],[26,11,18,9,"login"],[26,16,18,0],[26,17,18,15,"username"],[26,25,18,0],[26,27,18,25,"password"],[26,35,18,0],[26,37,18,35],[27,0,19,2],[27,11,19,9],[27,21,19,10,"dispatch"],[27,29,19,9],[27,31,19,23],[28,0,20,4,"dispatch"],[28,6,20,4,"dispatch"],[28,14,20,12],[28,15,20,13,"request"],[28,22,20,20],[28,23,20,21,"username"],[28,31,20,20],[28,32,20,12],[28,33,20,4],[30,0,22,4,"authService"],[30,24,23,7,"login"],[30,29,22,4],[30,30,23,13,"username"],[30,38,22,4],[30,40,23,23,"password"],[30,48,22,4],[30,50,24,7,"then"],[30,54,22,4],[30,55,24,12],[30,65,24,13,"res"],[30,68,24,12],[30,70,24,21],[31,0,26,8],[31,12,26,11,"res"],[31,15,26,14],[31,16,26,15,"status"],[31,22,26,11],[31,26,26,25],[31,29,26,8],[31,31,26,29],[32,0,28,10,"dispatch"],[32,10,28,10,"dispatch"],[32,18,28,18],[32,19,28,19,"success"],[32,26,28,26],[32,27,28,27,"res"],[32,30,28,30],[32,31,28,31,"data"],[32,35,28,27],[32,36,28,36,"token"],[32,41,28,26],[32,42,28,18],[32,43,28,10],[33,0,29,10,"dispatch"],[33,10,29,10,"dispatch"],[33,18,29,18],[33,19,29,19,"saveUserToken"],[33,32,29,32],[33,33,29,33,"res"],[33,36,29,36],[33,37,29,37,"data"],[33,41,29,33],[33,42,29,42,"token"],[33,47,29,32],[33,48,29,18],[33,49,29,10],[34,0,30,9],[34,9,26,8],[34,15,30,14],[35,0,31,10,"dispatch"],[35,10,31,10,"dispatch"],[35,18,31,18],[35,19,31,19,"failure"],[35,26,31,26],[35,27,31,27,"res"],[35,30,31,30],[35,31,31,31,"error"],[35,36,31,26],[35,37,31,18],[35,38,31,10],[36,0,32,9],[37,0,35,7],[37,7,22,4],[38,0,37,3],[38,5,19,2],[40,0,39,2],[40,13,39,11,"request"],[40,20,39,2],[40,21,39,19,"user"],[40,25,39,2],[40,27,39,25],[41,0,40,4],[41,13,40,11],[42,0,40,13,"type"],[42,8,40,13,"type"],[42,12,40,17],[42,14,40,19,"authConstants"],[42,43,40,33,"LOGIN_REQUEST"],[43,0,40,11],[43,7,40,4],[44,0,41,3],[46,0,42,2],[46,13,42,11,"success"],[46,20,42,2],[46,21,42,19,"token"],[46,26,42,2],[46,28,42,26],[47,0,43,4],[47,13,43,11],[48,0,43,13,"type"],[48,8,43,13,"type"],[48,12,43,17],[48,14,43,19,"authConstants"],[48,43,43,33,"LOGIN_SUCCESS"],[48,56,43,11],[49,0,43,48,"token"],[49,8,43,48,"token"],[49,13,43,53],[49,15,43,48,"token"],[50,0,43,11],[50,7,43,4],[51,0,44,3],[53,0,45,2],[53,13,45,11,"failure"],[53,20,45,2],[53,21,45,19,"error"],[53,26,45,2],[53,28,45,26],[54,0,46,4],[54,13,46,11],[55,0,46,13,"type"],[55,8,46,13,"type"],[55,12,46,17],[55,14,46,19,"authConstants"],[55,43,46,33,"LOGIN_FAILURE"],[55,56,46,11],[56,0,46,48,"error"],[56,8,46,48,"error"],[56,13,46,53],[56,15,46,48,"error"],[57,0,46,11],[57,7,46,4],[58,0,47,3],[60,0,48,2],[60,13,48,11,"saveToken"],[60,22,48,2],[60,25,48,23],[61,0,49,4],[61,13,49,11],[62,0,49,13,"type"],[62,8,49,13,"type"],[62,12,49,17],[62,14,49,19,"authConstants"],[62,43,49,33,"SAVE_TOKEN"],[63,0,49,11],[63,7,49,4],[64,0,50,3],[65,0,51,1],[67,0,53,0],[67,11,53,9,"resetPassword"],[67,24,53,0],[67,25,53,23,"email"],[67,30,53,0],[67,32,53,30],[68,0,54,2],[68,11,54,9],[68,21,54,10,"dispatch"],[68,29,54,9],[68,31,54,23],[69,0,55,4,"dispatch"],[69,6,55,4,"dispatch"],[69,14,55,12],[69,15,55,13,"request"],[69,22,55,20],[69,23,55,21,"email"],[69,28,55,20],[69,29,55,12],[69,30,55,4],[71,0,57,4,"authService"],[71,24,58,7,"resetPassword"],[71,37,57,4],[71,38,58,21,"email"],[71,43,57,4],[71,45,59,7,"then"],[71,49,57,4],[71,50,59,12],[71,60,59,13,"res"],[71,63,59,12],[71,65,59,21],[72,0,61,8],[72,12,61,11,"res"],[72,15,61,14],[72,16,61,15,"status"],[72,22,61,11],[72,26,61,25],[72,29,61,8],[72,31,61,29],[73,0,63,10,"console"],[73,10,63,10,"console"],[73,17,63,17],[73,18,63,18,"log"],[73,21,63,10],[73,22,63,22],[73,34,63,10],[74,0,64,10,"dispatch"],[74,10,64,10,"dispatch"],[74,18,64,18],[74,19,64,19,"success"],[74,26,64,26],[74,65,64,63,"email"],[74,70,64,26],[74,71,64,18],[74,72,64,10],[75,0,65,9],[75,9,61,8],[75,15,65,14],[76,0,66,10,"console"],[76,10,66,10,"console"],[76,17,66,17],[76,18,66,18,"log"],[76,21,66,10],[76,22,66,22],[76,36,66,10],[77,0,67,10,"dispatch"],[77,10,67,10,"dispatch"],[77,18,67,18],[77,19,67,19,"failure"],[77,26,67,26],[77,28,67,18],[77,29,67,10],[78,0,68,9],[79,0,71,7],[79,7,57,4],[80,0,73,3],[80,5,54,2],[82,0,75,2],[82,13,75,11,"request"],[82,20,75,2],[82,23,75,21],[83,0,76,4],[83,13,76,11],[84,0,76,13,"type"],[84,8,76,13,"type"],[84,12,76,17],[84,14,76,19,"authConstants"],[84,43,76,33,"FORGOTPASSWORD_REQUEST"],[85,0,76,11],[85,7,76,4],[86,0,77,3],[88,0,78,2],[88,13,78,11,"success"],[88,20,78,2],[88,21,78,19,"msg"],[88,24,78,2],[88,26,78,24],[89,0,79,4],[89,13,79,11],[90,0,79,13,"type"],[90,8,79,13,"type"],[90,12,79,17],[90,14,79,19,"authConstants"],[90,43,79,33,"FORGOTPASSWORD_SUCCESS"],[90,65,79,11],[91,0,79,57,"toastMessage"],[91,8,79,57,"toastMessage"],[91,20,79,69],[91,22,79,71,"msg"],[92,0,79,11],[92,7,79,4],[93,0,80,3],[95,0,81,2],[95,13,81,11,"failure"],[95,20,81,2],[95,21,81,19,"error"],[95,26,81,2],[95,28,81,26],[96,0,82,4],[96,13,82,11],[97,0,82,13,"type"],[97,8,82,13,"type"],[97,12,82,17],[97,14,82,19,"authConstants"],[97,43,82,33,"FORGOTPASSWORD_FAILURE"],[98,0,82,11],[98,7,82,4],[99,0,83,3],[100,0,85,1],[102,0,87,0],[102,11,87,9,"signup"],[102,17,87,0],[102,18,87,16,"email"],[102,23,87,0],[102,25,87,23,"first_name"],[102,35,87,0],[102,37,87,35,"last_name"],[102,46,87,0],[102,48,87,46,"phone"],[102,53,87,0],[102,55,87,53],[103,0,88,2],[103,11,88,9],[103,21,88,10,"dispatch"],[103,29,88,9],[103,31,88,23],[104,0,89,4,"dispatch"],[104,6,89,4,"dispatch"],[104,14,89,12],[104,15,89,13,"request"],[104,22,89,20],[104,24,89,12],[104,25,89,4],[106,0,91,4,"authService"],[106,24,92,7,"resetPassword"],[106,37,91,4],[106,38,92,21,"email"],[106,43,91,4],[106,45,93,7,"then"],[106,49,91,4],[106,50,93,12],[106,60,93,13,"res"],[106,63,93,12],[106,65,93,21],[107,0,95,8],[107,12,95,11,"res"],[107,15,95,14],[107,16,95,15,"status"],[107,22,95,11],[107,26,95,25],[107,29,95,8],[107,31,95,29],[108,0,97,10,"console"],[108,10,97,10,"console"],[108,17,97,17],[108,18,97,18,"log"],[108,21,97,10],[108,22,97,22],[108,34,97,10],[109,0,98,10,"dispatch"],[109,10,98,10,"dispatch"],[109,18,98,18],[109,19,98,19,"success"],[109,26,98,26],[109,65,98,63,"email"],[109,70,98,26],[109,71,98,18],[109,72,98,10],[110,0,99,9],[110,9,95,8],[110,15,99,14],[111,0,100,10,"console"],[111,10,100,10,"console"],[111,17,100,17],[111,18,100,18,"log"],[111,21,100,10],[111,22,100,22],[111,36,100,10],[112,0,101,10,"dispatch"],[112,10,101,10,"dispatch"],[112,18,101,18],[112,19,101,19,"failure"],[112,26,101,26],[112,28,101,18],[112,29,101,10],[113,0,102,9],[114,0,105,7],[114,7,91,4],[115,0,107,3],[115,5,88,2],[117,0,109,2],[117,13,109,11,"request"],[117,20,109,2],[117,23,109,21],[118,0,110,4],[118,13,110,11],[119,0,110,13,"type"],[119,8,110,13,"type"],[119,12,110,17],[119,14,110,19,"authConstants"],[119,43,110,33,"REGISTER_REQUEST"],[120,0,110,11],[120,7,110,4],[121,0,111,3],[123,0,112,2],[123,13,112,11,"success"],[123,20,112,2],[123,21,112,19,"msg"],[123,24,112,2],[123,26,112,24],[124,0,113,4],[124,13,113,11],[125,0,113,13,"type"],[125,8,113,13,"type"],[125,12,113,17],[125,14,113,19,"authConstants"],[125,43,113,33,"REGISTER_SUCCESS"],[126,0,113,11],[126,7,113,4],[127,0,114,3],[129,0,115,2],[129,13,115,11,"failure"],[129,20,115,2],[129,21,115,19,"error"],[129,26,115,2],[129,28,115,26],[130,0,116,4],[130,13,116,11],[131,0,116,13,"type"],[131,8,116,13,"type"],[131,12,116,17],[131,14,116,19,"authConstants"],[131,43,116,33,"REGISTER_FAILURE"],[132,0,116,11],[132,7,116,4],[133,0,117,3],[134,0,119,1],[136,0,121,0],[136,11,121,9,"getUserToken"],[136,23,121,0],[136,26,121,24],[137,0,122,2],[137,11,122,9],[137,21,122,10,"dispatch"],[137,29,122,9],[137,31,122,23],[138,0,123,4,"authService"],[138,24,124,7,"getItem"],[138,31,123,4],[138,32,124,15],[138,39,123,4],[138,41,125,7,"then"],[138,45,123,4],[138,46,125,12],[138,56,125,13,"value"],[138,61,125,12],[138,63,125,23],[139,0,126,8,"dispatch"],[139,8,126,8,"dispatch"],[139,16,126,16],[139,17,126,17,"getToken"],[139,25,126,25],[139,26,126,26,"value"],[139,31,126,25],[139,32,126,16],[139,33,126,8],[140,0,127,7],[140,7,123,4],[140,9,128,7,"catch"],[140,14,123,4],[140,15,128,13],[140,25,128,14,"err"],[140,28,128,13],[140,30,128,22],[141,0,129,8,"console"],[141,8,129,8,"console"],[141,15,129,15],[141,16,129,16,"log"],[141,19,129,8],[141,20,129,20,"err"],[141,23,129,8],[142,0,130,7],[142,7,123,4],[143,0,131,3],[143,5,122,2],[145,0,133,2],[145,13,133,11,"getToken"],[145,21,133,2],[145,22,133,20,"token"],[145,27,133,2],[145,29,133,27],[146,0,134,4],[146,13,134,11],[147,0,134,13,"type"],[147,8,134,13,"type"],[147,12,134,17],[147,14,134,19,"authConstants"],[147,43,134,33,"GET_TOKEN"],[147,52,134,11],[148,0,134,44,"token"],[148,8,134,44,"token"],[148,13,134,49],[148,15,134,44,"token"],[149,0,134,11],[149,7,134,4],[150,0,135,3],[151,0,136,1],[153,0,138,0],[153,11,138,9,"saveUserToken"],[153,24,138,0],[153,25,138,23,"token"],[153,30,138,0],[153,32,138,30],[154,0,139,2],[154,11,139,9],[154,21,139,10,"dispatch"],[154,29,139,9],[154,31,139,23],[155,0,140,4,"authService"],[155,24,140,16,"saveItem"],[155,32,140,4],[155,33,140,25],[155,40,140,4],[155,42,140,34,"token"],[155,47,140,4],[155,49,140,41,"then"],[155,53,140,4],[155,54,140,46],[155,64,140,47,"token"],[155,69,140,46],[155,71,140,57],[156,0,141,5,"console"],[156,8,141,5,"console"],[156,15,141,12],[156,16,141,13,"log"],[156,19,141,5],[156,20,141,17],[156,37,141,5],[157,0,142,5],[157,7,140,4],[158,0,143,3],[158,5,139,2],[160,0,145,2],[160,13,145,11,"saveToken"],[160,22,145,2],[160,23,145,21,"token"],[160,28,145,2],[160,30,145,28],[161,0,146,4],[161,13,146,11],[162,0,146,13,"type"],[162,8,146,13,"type"],[162,12,146,17],[162,14,146,19,"authConstants"],[162,43,146,33,"SAVE_TOKEN"],[162,53,146,11],[163,0,146,45,"token"],[163,8,146,45,"token"],[163,13,146,50],[163,15,146,45,"token"],[164,0,146,11],[164,7,146,4],[165,0,147,3],[166,0,148,1],[168,0,152,0],[168,11,152,9,"deleteUserToken"],[168,26,152,0],[168,29,152,27],[169,0,153,2],[169,11,153,9],[169,21,153,10,"dispatch"],[169,29,153,9],[169,31,153,23],[170,0,154,4,"authService"],[170,24,154,16,"deleteItem"],[170,34,154,4],[170,35,154,27],[170,42,154,4],[170,44,154,36,"then"],[170,48,154,4],[170,49,154,41],[170,59,154,42,"value"],[170,64,154,41],[170,66,154,52],[171,0,155,6,"dispatch"],[171,8,155,6,"dispatch"],[171,16,155,14],[171,17,155,15,"deleteToken"],[171,28,155,26],[171,30,155,14],[171,31,155,6],[172,0,156,5],[172,7,154,4],[173,0,157,3],[173,5,153,2],[175,0,159,2],[175,13,159,11,"deleteToken"],[175,24,159,2],[175,27,159,25],[176,0,160,4],[176,13,160,11],[177,0,160,13,"type"],[177,8,160,13,"type"],[177,12,160,17],[177,14,160,19,"authConstants"],[177,43,160,33,"DELETE_TOKEN"],[178,0,160,11],[178,7,160,4],[179,0,161,3],[180,0,162,1],[182,0,164,0],[182,11,164,9,"clearLoginErrors"],[182,27,164,0],[182,30,164,28],[183,0,165,2],[183,11,165,9],[184,0,166,4,"type"],[184,6,166,4,"type"],[184,10,166,8],[184,12,166,10,"authConstants"],[184,41,166,24,"CLEAR_LOGIN_ERRORS"],[185,0,165,9],[185,5,165,2],[186,0,168,1],[188,0,170,0],[188,11,170,9,"clearToastMessage"],[188,28,170,0],[188,31,170,29],[189,0,171,2],[189,11,171,9],[190,0,172,4,"type"],[190,6,172,4,"type"],[190,10,172,8],[190,12,172,10,"authConstants"],[190,41,172,24,"CLEAR_TOAST"],[191,0,171,9],[191,5,171,2],[192,0,174,1]],"functionMap":{"names":["<global>","login","<anonymous>","authService.login.then$argument_0","request","success","failure","saveToken","resetPassword","authService.resetPassword.then$argument_0","signup","getUserToken","authService.getItem.then$argument_0","authService.getItem.then._catch$argument_0","getToken","saveUserToken","authService.saveItem.then$argument_0","deleteUserToken","authService.deleteItem.then$argument_0","deleteToken","clearLoginErrors","clearToastMessage"],"mappings":"AAA;ACiB;SCC;YCK;ODW;GDE;EGE;GHE;EIC;GJE;EKC;GLE;EMC;GNE;CDC;AQE;SNC;YOK;OPY;GME;EJE;GIE;EHC;GGE;EFC;GEE;CRE;AUE;SRC;YOK;OPY;GQE;ENE;GME;ELC;GKE;EJC;GIE;CVE;AWE;STC;YUG;OVE;aWC;OXE;GSC;EGE;GHE;CXC;AeE;SbC;8CcC;KdE;GaC;ERE;GQE;CfC;AiBI;SfC;yCgBC;KhBE;GeC;EEE;GFE;CjBC;AoBE;CpBI;AqBE;CrBI"}},"type":"js/module"}]}